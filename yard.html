<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>YaccConstructor. YARD</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="YaccConstructor"/>
    <meta name="author" content="Semyon Grigorev and others"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="./content/style.css" />
    <script type="text/javascript" src="./content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <!--li><a href="http://yc.com">YaccConstructor</a></li-->
          <li><a href="https://github.com/YaccConstructor/YaccConstructor">github page</a>
          </li>
        </ul>
        <h3 class="muted"><a href="./index.html">YaccConstructor</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1>YARD</h1>
YARD is powerful translation specification language. It allow you to use EBNF, metarules and conditional generation. Also YARD support L and S attributed grammars.

<h2>Syntax in exapmles</h2>
<h3>Grammar</h3>
<pre>
grammar: ('{'header'}')? rules ('{'footer'}')?
</pre>

Example of YARD grammar file:
<pre>
{
let helperFunction x y = x+y
}
s: NUMBER;
{
let helperFunction2 x y = x*y
}
</pre>

<h3>Sequence</h3>
<pre>
s: e PLUS e;
</pre>

<h3>Alternative</h3>
<pre>
s: DECNUMBER|HEXNUMBER;
s: NUMBER (PLUS|MULT) NUMBER;
s: { None }|n=NUMBER{Some n};
</pre>
Mean that empty branch is epsilon. So s can produce epsilon or NUMBER. It is important that empty branch must have action code. It is necessary for type checking.

<h3>Zero or More</h3>
<pre>
grammar: rule*;
</pre>

<h3>One ore More</h3>
<pre>
grammar: rule+;
</pre>

<h3>Option</h3>
<pre>
s: PLUS?;
</pre>
Or
<pre>
s: [PLUS];
</pre>
Thie syntax useful for big optional subsexpresionns. Instead of 

<pre>
s: (n PLUS expr)?;
</pre>
you can write
<pre>
s: [n PLUS expr];
</pre>
Grouping and optionality in one.

<h3>Literal</h3>
<pre>
stmt_block: 'BEGIN' stmt+ 'END';
</pre>

<h3>Metarules</h3>
<pre>
not_empty_list<<item sep>>: item (sep item)*;
statements: not_empty_list<<stetement SEMICOLON>>;
args: not_empty_list<<arg COMMA>>;
</pre>

<h3>Action code</h3>
<pre>
s: n {printfn "n is detected!!!"}
</pre>

<h3>Bindings</h3>
<pre>
s: n=NUMBER {printfn "Number value is %A" n}
s: <hd::tl>=not_empty_list<<NUMBER COLON>> {List.fold myFunction hd tl}
</pre>

<h3>L-attributes</h3>
<pre>
proc: declarations=var_declarations IN expressions[declarations];
expressions[declarations]: 
     expr_lst=expression+ {check_undeclared_vareables_in_expressions expr_lst declarations};
</pre>

<h3>Conditional generation</h3>
<pre>
exec_literal:
#if ms
("EXEC" | "EXECUTE")
#elif pl
"EXECUTE" "IMMEDIATE"
#endif
LBRACE LITERAL RBRACE
;
</pre>
Means, that if you run generator with key -D "ms" then you get parser for grammar
<pre>
exec_literal:
("EXEC" | "EXECUTE")
LBRACE LITERAL RBRACE
;
</pre>
Else, if you run generator with key -D "pl" then you get parser for grammar
<pre>
exec_literal:
"EXECUTE" "IMMEDIATE"
LBRACE LITERAL RBRACE
;
</pre>

<h3>Labels</h3>
<pre>
s: x (@l1(y z)| @l2(a b)) g;
</pre>
Where @l1 and @l2 are labels. Labels are used for working with dialects.

</div>
        <div class="span3">
          <img src="./images/YC_big.jpg" alt="YaccConstructor" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">YaccConstructor</li>
            <li><a href="./index.html">Home page</a></li>
            <li class="divider"></li>
            <!--li><a href="https://www.nuget.org/packages/FSharpx.Core/">Get Library via NuGet</a></li-->
            <li><a href="https://github.com/YaccConstructor/YaccConstructor">Source Code on GitHub</a></li>
            <!--li><a href="https://github.com/fsprojects/fsharpx/blob/master/LICENSE.txt">License</a></li-->
            <li><a href="https://github.com/YaccConstructor/YaccConstructor/zipball/master" class="button">
                  <small>Download</small>
                        .zip file
                </a>
            </li>
            <li><a href="https://github.com/YaccConstructor/YaccConstructor/tarball/master" class="button">
                  <small>Download</small>
                        .tar.gz file
                  </a>
            </li>
            <p class="repo-owner"><a href="https://github.com/YaccConstructor/YaccConstructor">YC</a> is maintained by <a href="https://github.com/YaccConstructor">YaccConstructor</a>.</p>
            <!--li><a href="https://github.com/fsprojects/fsharpx/blob/master/RELEASE_NOTES.md">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="./index.html">Introduction</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="./reference/index.html">API Reference</a></li-->
          </ul>
        </div>
      </div>
    </div>
    <a href="https://github.com/YaccConstructor/YaccConstructor"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
</html>
