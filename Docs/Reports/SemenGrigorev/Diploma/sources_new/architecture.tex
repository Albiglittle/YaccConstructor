\section{Архитектура}
 
\includepdf{general_tool_structure.pdf}
Инструмент состоит из трёх основных модулей:
\begin{itemize}
	\item {\bfseries Парсер входной грамматики}
	
	\item {\bfseries Генератор}, который по дереву грамматики строит набор таблиц и генерирует функции для вычисления пользовательских атрибутов. Основные этапы:
		\begin{itemize}
			\item {\bfseries Преобразования грамматики}, которые необходимы, так как YARD поддерживает конструкции, не поддерживаемые генератором. Например макроправила.
				\item {\bfseries Генерация таблиц и кода}
		\end{itemize}
		Результатами работы генератора являются:
		\begin{itemize}
			\item {\bfseries Набор таблиц}, который содержит данные, необходимые для синтаксического анализа и вычисления атрибутов и состоит из:
			\begin{itemize}
				\item {\bfseries GOTO} -- таблица переходов синтаксического анализатора.
		  	\item {\bfseries Items} -- информация о состояниях  синтаксического анализатора.
		  	\item {\bfseries Action Map} -- отображение из правил в функции,  сгенерированные по атрибутам этого правила.
			\end{itemize}
			
		  \item {\bfseries Функции вычисления атрибутов} -- файл на F\#, содержащий функции для вычисления пользовательских атрибутов.
		\end{itemize}
		
		
	\item {\bfseries Ядро}, которое реализует синтаксический разбор и вычисление атрибутов и состоит из:
		\begin{itemize}
			\item {\bfseries Интерпретатора таблиц}, который строит лес вывода входного выражения на основе сгенерированных таблиц. Основан на рекурсивно-восходящем алгоритме.
			\item {\bfseries Вычислителя атрибутов}, который применяет функции, найденные с помощью Action Map в сгенерированном файле, к дереву.
		\end{itemize}
		
\end{itemize}

На вход поступает файл с грамматикой, заданной пользователем и поток лексем. На выходе -- результат вычислений, заданных пользователем в атрибутах грамматики.

\subsection{Фронтенд}

Фронтенд основан на инструменте YARD. Описание инструмента, его особенностей, важных для нашей работы(особенности описания семантик).
•	Используем его входной язык
•	Используем его внутреннее представление грамматики
•	Используем набор преобразований

\subsection{Генератор}
Описание набора генерируемых таблиц
•	Описание кода, сгенерированного  на основе атрибутов

\subsection{Анализатор}
Неизменное ядро, которое заранее реализовано
•	То, что выдал генератор
•	Сторонний лексический анализатор
•	Общий алгоритм работы